{"version":3,"sources":["components/HeroPanel/HeroPanel.js","redux/actions/heroAction.js","redux/selectors/heroSelector.js","assets/png/creep.png","assets/png/hero.png","components/FightArea/FightArea.js","redux/actions/creepAction.js","redux/selectors/creepSelector.js","pages/Homepage/Homepage.js","Routes.js","redux/reducers/creepReducer.js","redux/reducers/heroReducer.js","redux/rootReducer.js","hooks/useAuth.js","context/AuthContext.js","App.js","redux/createStore.js","reportWebVitals.js","index.js"],"names":["HeroPanel","hero","armyCount","army","horsemen","count","archers","infantry","className","login","power","level","attack","minDmg","maxDmg","def","minionHp","heroMagic","mage","chance","dmg","human","elf","gnome","valar","morgote","buffAttack","crit","surprise","buffHp","armour","evasion","fetchHero","createAsyncThunk","a","data","axios","get","config","serverUrl","then","res","getHero","createSelector","state","FightArea","heroData","creepData","creepsCount","useState","setHero","creeps","setCreeps","logs","setLogs","fightResult","setFightResult","useEffect","name","hp","min","max","buff","buffLoot","loot","getRandomInt","Math","ceil","floor","random","getChanceAttack","attackChance","getChanceMagic","percents","onClick","window","location","reload","src","heroImg","alt","allHeroDmg","horsemenDmg","archersDmg","infantryDmg","mageDmg","humanDmg","elfDmg","gnomeDmg","valarDmg","morgoteDmg","critical","creepDmg","isAttackHero","isAttackCreeps","creepHpAfterAttack","heroDefAfterAttack","parseInt","handleAttackCreep","creepImg","map","log","index","fetchCreep","getCreep","creep","Homepage","dispatch","useDispatch","useSelector","Routes","path","to","creepReducer","createReducer","loading","error","pending","fulfilled","action","payload","rejected","heroReducer","combineReducers","form","formReducer","storageName","AuthContext","createContext","token","userId","noop","logout","isAuthenticated","store","configureStore","reducer","rootReducer","devTools","App","setToken","ready","setReady","setUserId","useCallback","jwtToken","id","localStorage","setItem","JSON","stringify","removeItem","parse","getItem","useAuth","Provider","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.70915fbb.chunk.js","sourcesContent":["import React from 'react'\r\nimport './HeroPanel.scss'\r\nexport default function HeroPanel({ hero }) {\r\n  const armyCount = hero && hero.army.horsemen.count + hero.army.archers.count + hero.army.infantry.count\r\n\r\n  return (\r\n    <>\r\n      {\r\n        hero &&\r\n        <div className='heroPanel'>\r\n          <h2>Имя: {hero.login}</h2>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Мощь:{hero.power}</p>\r\n            <p>Уровень:{hero.level}</p>\r\n          </div>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Урон армии:{hero.attack.minDmg} - {hero.attack.maxDmg}</p>\r\n            <p>Защита:{hero.def}</p>\r\n          </div>\r\n          <div className=\"heroPanel__army heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Войско:</h3>\r\n            <p>Кол-во: {armyCount}</p>\r\n            <p>Атака: {armyCount * 1} - {armyCount * 3}</p>\r\n            <p>Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Всадники: {hero.army.horsemen.count} Урон:{hero.army.horsemen.minDmg} - {hero.army.horsemen.maxDmg} Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Лучники: {hero.army.archers.count} Урон:{hero.army.archers.minDmg} - {hero.army.archers.maxDmg} Здоровье: {hero.army.archers.minionHp}</p>\r\n            <p>Пехота: {hero.army.infantry.count} Урон:{hero.army.infantry.minDmg} - {hero.army.infantry.maxDmg} Здоровье: {hero.army.infantry.minionHp}</p>\r\n          </div>\r\n          <div className=\"heroPanel__magic heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Магия и способности героев:</h3>\r\n            <p>Маг: {hero.heroMagic.mage.chance}% урон {hero.heroMagic.mage.dmg}</p>\r\n            <p>Человек: {hero.heroMagic.human.chance}% урон {hero.heroMagic.human.dmg}</p>\r\n            <p>Эльф: {hero.heroMagic.elf.chance}% урон {hero.heroMagic.elf.dmg}</p>\r\n            <p>Гном: {hero.heroMagic.gnome.chance}% урон {hero.heroMagic.gnome.dmg}</p>\r\n            <p>Воля Валар: {hero.heroMagic.valar.chance}% урон {hero.heroMagic.valar.dmg}</p>\r\n            <p>Воля Моргота: {hero.heroMagic.morgote.chance}% урон {hero.heroMagic.morgote.dmg}</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffAttack heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление атаки:</h3>\r\n            <p>Крит шанс: {hero.buffAttack.crit.chance}% </p>\r\n            <p>Крит урон: {hero.buffAttack.crit.dmg}%</p>\r\n            <p>Шанс внезапности: {hero.buffAttack.surprise.chance}%</p>\r\n            <p>Урон внезапности: {hero.buffAttack.surprise.dmg}%</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffHp heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление здоровья:</h3>\r\n            <p>Защита: {hero.buffHp.def}% ув. здор.</p>\r\n            <p>Броня: {hero.buffHp.armour}% к (здор.+защ.)</p>\r\n            <p>Уворот: {hero.buffHp.evasion}%</p>\r\n          </div>\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchHero = createAsyncThunk('hero/fetchHero', async (login) => {\r\n  const data = axios.get(`${config.serverUrl}/api/heroes/${login}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getHero = createSelector(\r\n  state => state.hero.data[0],\r\n  hero => hero\r\n);","export default __webpack_public_path__ + \"static/media/creep.652cb964.png\";","export default __webpack_public_path__ + \"static/media/hero.2b8f2de0.png\";","import React, { useState, useEffect } from 'react'\r\nimport creepImg from '../../assets/png/creep.png'\r\nimport heroImg from '../../assets/png/hero.png'\r\nimport './FightArea.scss'\r\n\r\nexport default function FightArea({ heroData, creepData, creepsCount }) {\r\n  const [hero, setHero] = useState({})\r\n  const [creeps, setCreeps] = useState({})\r\n  const [logs, setLogs] = useState([]) // [[heroDmg,creepDmg],...]\r\n  const [fightResult, setFightResult] = useState('')\r\n  const [clickCounter, setClickCounter] = useState(0)\r\n  useEffect(() => {\r\n    heroData && setHero(heroData)\r\n  }, [heroData])\r\n\r\n  //all creeps\r\n  useEffect(() => {\r\n    creepData && setCreeps({\r\n      name: creepData.name,\r\n      hp: creepData.hp * creepsCount,\r\n      dmg: {\r\n        min: creepData.dmg.min * creepsCount,\r\n        max: creepData.dmg.max * creepsCount\r\n      },\r\n      buff: creepData.buff,\r\n      evasion: creepData.evasion,\r\n      buffLoot: creepData.buffLoot,\r\n      loot: creepData.loot,\r\n      crit: {\r\n        chance: creepData.crit.chance,\r\n        dmg: creepData.crit.dmg\r\n      },\r\n      count: creepsCount\r\n    })\r\n\r\n  }, [creepData])\r\n\r\n  const getRandomInt = (min, max) => {\r\n    min = Math.ceil(min);\r\n    max = Math.floor(max);\r\n    return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n  }\r\n\r\n  const getChanceAttack = (evasion) => {\r\n    const attackChance = Math.random() * 100;\r\n    let chance;\r\n    if (attackChance >= evasion) {\r\n      chance = true\r\n    }\r\n    if (attackChance < evasion) {\r\n      chance = false\r\n    }\r\n    return chance\r\n  }\r\n\r\n  const getChanceMagic = (percents) => {\r\n    const attackChance = Math.random() * 100;\r\n    let chance = false;\r\n    if (attackChance <= percents) {\r\n      chance = true\r\n    } else {\r\n      chance = false\r\n    }\r\n    return chance;\r\n  }\r\n\r\n  const handleAttackCreep = () => {\r\n    if (fightResult) return\r\n\r\n    //evasion chance\r\n    const isAttackHero = getChanceAttack(creeps.evasion)\r\n    const isAttackCreeps = getChanceAttack(hero.buffHp.evasion)\r\n\r\n    let creepHpAfterAttack = creeps.hp;\r\n    let heroDefAfterAttack = hero.def;\r\n    // army Damage\r\n    let allHeroDmg, horsemenDmg, archersDmg, infantryDmg, mageDmg, humanDmg, elfDmg, gnomeDmg, valarDmg, morgoteDmg, critical, surprise;\r\n\r\n    if (isAttackHero) {\r\n      horsemenDmg = getRandomInt(hero.army.horsemen.minDmg * hero.army.horsemen.count, hero.army.horsemen.maxDmg * hero.army.horsemen.count)\r\n      archersDmg = getRandomInt(hero.army.archers.minDmg * hero.army.archers.count, hero.army.archers.maxDmg * hero.army.archers.count)\r\n      infantryDmg = getRandomInt(hero.army.infantry.minDmg * hero.army.infantry.count, hero.army.infantry.maxDmg * hero.army.infantry.count)\r\n\r\n      //magic\r\n      mageDmg = getChanceMagic(hero.heroMagic.mage.chance) ? hero.heroMagic.mage.dmg : 0\r\n      humanDmg = getChanceMagic(hero.heroMagic.human.chance) ? hero.heroMagic.human.dmg : 0\r\n      elfDmg = getChanceMagic(hero.heroMagic.elf.chance) ? hero.heroMagic.elf.dmg : 0\r\n      gnomeDmg = getChanceMagic(hero.heroMagic.gnome.chance) ? hero.heroMagic.gnome.dmg : 0\r\n      valarDmg = getChanceMagic(hero.heroMagic.valar.chance) ? hero.heroMagic.valar.dmg : 0\r\n      morgoteDmg = getChanceMagic(hero.heroMagic.morgote.chance) ? hero.heroMagic.morgote.dmg : 0\r\n\r\n      const magicDmg = mageDmg + humanDmg + elfDmg + gnomeDmg + valarDmg + morgoteDmg\r\n      allHeroDmg = horsemenDmg + archersDmg + infantryDmg + magicDmg\r\n\r\n      critical = getChanceMagic(hero.buffAttack.crit.chance)\r\n      if (critical) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.crit.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      surprise = getChanceMagic(hero.buffAttack.surprise.chance)\r\n      if (surprise) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.surprise.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      creepHpAfterAttack = creepHpAfterAttack - allHeroDmg\r\n      setCreeps({ ...creeps, hp: creepHpAfterAttack })\r\n    } else {\r\n      allHeroDmg = 'Промах'\r\n    }\r\n\r\n    let creepDmg;\r\n    if (isAttackCreeps) {\r\n      creepDmg = creepHpAfterAttack > 0 ? getRandomInt(creeps.dmg.min, creeps.dmg.max) : 0  /// if draw(ничья) dmg = 0\r\n      heroDefAfterAttack = hero.def - creepDmg\r\n      setHero({ ...hero, def: heroDefAfterAttack })\r\n    } else {\r\n      creepDmg = 'Промах'\r\n    }\r\n\r\n\r\n    setLogs([...logs, { allHeroDmg: allHeroDmg, horsemenDmg: horsemenDmg, archersDmg: archersDmg, infantryDmg: infantryDmg, creepDmg: creepDmg, mageDmg: mageDmg, humanDmg: humanDmg, elfDmg: elfDmg, gnomeDmg: gnomeDmg, valarDmg: valarDmg, morgoteDmg: morgoteDmg, critical: critical, surprise: surprise }])\r\n\r\n    if (creepHpAfterAttack <= 0) setFightResult('Победа')\r\n    if (heroDefAfterAttack <= 0) setFightResult('Поражение')\r\n    if (heroDefAfterAttack <= 0 && creepHpAfterAttack <= 0) setFightResult('Ничья')\r\n  }\r\n\r\n  return (\r\n    <div className='fightArea'>\r\n      <h2 className='fightArea__title'>Поле сражения</h2>\r\n      {fightResult &&\r\n        <h3 className={`fightArea__fightResult ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`}>{fightResult}</h3>\r\n      }\r\n      {fightResult &&\r\n        <button className={`fightArea__fightResult fightArea__btnReset ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`} onClick={() => window.location.reload()}>Начать новый бой</button>\r\n      }\r\n      <div className=\"fightArea__fight\">\r\n        {hero &&\r\n          <div className=\"fightArea__hero fightArea__item\">\r\n            <div className='fightArea__itemTitle'>Оборона:{hero.def}</div>\r\n            <img src={heroImg} alt=\"hero\" />\r\n          </div>\r\n        }\r\n\r\n        <div className=\"fightArea__btnContainer\">\r\n          <span className='fightArea__vs'>VS</span>\r\n          <button className='fightArea__btnAttack' onClick={() => handleAttackCreep()}>Атака</button>\r\n        </div>\r\n\r\n        {creeps &&\r\n          <>\r\n            <div className=\"fightArea__creep fightArea__item\">\r\n              <div className=\"fightArea__infoContainer\">\r\n                <div className='fightArea__creepInfo fightArea__itemTitle'>{creeps.name} Здоровье:{creeps.hp} </div>\r\n                <img src={creepImg} alt=\"creep\" />\r\n              </div>\r\n              <div className='fightArea__infoContainer'>\r\n                <h3>Кол-во: {creeps.count}</h3>\r\n                <div>Усиление: {creeps.buff}</div>\r\n                <div>Уворот: {creeps.evasion}%</div>\r\n                {creeps.crit && <div>Шанс крита: {creeps.crit.chance}%</div>}\r\n                {creeps.crit && <div>Урон крита: {creeps.crit.dmg}%</div>}\r\n                <div>Увеличение добычи: 0%</div>\r\n                {creeps.dmg && <div>Атака: {creeps.dmg.min} - {creeps.dmg.max}</div>}\r\n                {creepData && <div>Здоровье: {creepData.hp * creepsCount}</div>}\r\n              </div>\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n        <h3>Логи:</h3>\r\n        <div className=\"fightArea__logs\">\r\n          {\r\n            logs.map((log, index) => (\r\n              <p key={index}>\r\n                <span>\r\n                  Урон всего:\r\n                  {log.critical && <span>Критический урон</span>}\r\n                  {log.critical && log.surprise && <span>+</span>}\r\n                  {log.surprise && <span>Внезапный урон</span>}\r\n                  {log.allHeroDmg}\r\n                </span>\r\n                <span>Урон крипа: {log.creepDmg} </span>\r\n                {log.allHeroDmg > 0 &&\r\n                  <>\r\n                    <span>\r\n                      Урон всадников:{log.horsemenDmg} Урон лучников:{log.archersDmg} Урон пехоты:{log.infantryDmg}\r\n                    </span>\r\n                    {log.mageDmg > 0 && <span>Урон мага:{log.mageDmg}</span>}\r\n                    {log.humanDmg > 0 && <span>Урон человека:{log.humanDmg}</span>}\r\n                    {log.elfDmg > 0 && <span>Урон эльфа:{log.elfDmg}</span>}\r\n                    {log.gnomeDmg > 0 && <span>Урон гнома:{log.gnomeDmg}</span>}\r\n                    {log.valarDmg > 0 && <span>Воля валар:{log.valarDmg}</span>}\r\n                    {log.morgoteDmg > 0 && <span>Воля моргота:{log.morgoteDmg}</span>}\r\n                  </>\r\n                }\r\n\r\n              </p>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchCreep = createAsyncThunk('creep/fetchCreep', async (name) => {\r\n  const data = axios.get(`${config.serverUrl}/api/creeps/${name}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getCreep = createSelector(\r\n  state => state.creep.data[0],\r\n  creep => creep\r\n);","import React,{useEffect} from 'react'\r\nimport HeroPanel from '../../components/HeroPanel/HeroPanel'\r\nimport {useDispatch,useSelector} from 'react-redux'\r\nimport {fetchHero} from '../../redux/actions/heroAction'\r\nimport {getHero} from '../../redux/selectors/heroSelector'\r\nimport FightArea from '../../components/FightArea/FightArea'\r\nimport './Homepage.scss'\r\nimport {fetchCreep} from '../../redux/actions/creepAction'\r\nimport {getCreep} from '../../redux/selectors/creepSelector'\r\n\r\nexport default function Homepage() {\r\n  const adminLogin = 'admin'\r\n  const creepName = 'Волк'\r\n  const creepsCount = 3\r\n  \r\n  const dispatch = useDispatch()\r\n  const hero = useSelector(getHero)\r\n  const creep = useSelector(getCreep)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchHero(adminLogin))\r\n    dispatch(fetchCreep(creepName))\r\n  }, [])\r\n\r\n  return (\r\n    <div className='home'>\r\n      <HeroPanel hero={hero}/>\r\n      <FightArea heroData={hero} creepData={creep} creepsCount={creepsCount}/>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route, Switch, BrowserRouter as Router } from \"react-router-dom\"\r\nimport Homepage from './pages/Homepage/Homepage'\r\n\r\nexport default function Routes() {\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path=\"/home\">\r\n          <Homepage />\r\n        </Route>\r\n        <Redirect to='/home'/>\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchCreep } from '../actions/creepAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst creepReducer = createReducer(initialState, {\r\n  [fetchCreep.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchCreep.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchCreep.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default creepReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchHero } from '../actions/heroAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst heroReducer = createReducer(initialState, {\r\n  [fetchHero.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchHero.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchHero.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default heroReducer","import { combineReducers } from '@reduxjs/toolkit'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport creepReducer from './reducers/creepReducer'\r\nimport heroReducer from './reducers/heroReducer'\r\n\r\nexport default combineReducers({\r\n  hero: heroReducer,\r\n  creep: creepReducer,\r\n  form: formReducer\r\n})","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'warofthenumenor'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n  const [userId, setUserId] = useState(null)\r\n \r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    window.localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n    window.localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(window.localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n    setReady(true)\r\n  }, [login])\r\n\r\n\r\n  return { login, logout, token, userId: userId, ready }\r\n}","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop(),\r\n  logout: noop(),\r\n  isAuthenticated: false\r\n})","import './App.css';\nimport Routes from './Routes';\nimport createStore from './redux/createStore'\nimport { Provider } from 'react-redux'\nimport { useAuth } from './hooks/useAuth'\nimport { AuthContext } from './context/AuthContext';\n\nconst store = createStore();\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth();\n  const isAuthenticated = !!token\n\n  return (\n    <Provider store={store}>\n      <AuthContext.Provider value={{ token, login, logout, userId, ready, isAuthenticated }}>\n        <Routes />\n      </AuthContext.Provider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport rootReducer from './rootReducer';\r\n\r\nexport default () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    devTools: true,\r\n  })\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}