{"version":3,"sources":["components/HeroPanel/HeroPanel.js","redux/actions/heroAction.js","redux/selectors/heroSelector.js","assets/png/hero.png","helpers/getRandomInt.js","helpers/getChance.js","assets/png/none.png","redux/actions/locationAction.js","helpers/mathCount.js","components/FightArea/FightArea.js","redux/actions/navAction.js","components/NavPanel/NavPanel.js","redux/selectors/locationSelector.js","components/Location/Location.js","helpers/getCountByLvl.js","assets/png/human.png","assets/png/elf.png","assets/png/gnome.png","components/BackpackPopup/BackpackPopup.js","redux/selectors/navSelector.js","pages/Homepage/Homepage.js","pages/Forgepage/Forgepage.js","Routes.js","redux/reducers/heroReducer.js","redux/reducers/locationReducer.js","redux/reducers/navReducer.js","redux/rootReducer.js","hooks/useAuth.js","context/AuthContext.js","App.js","redux/createStore.js","reportWebVitals.js","index.js"],"names":["HeroPanel","hero","className","armyCount","army","horsemen","count","archers","infantry","login","power","level","attack","minDmg","maxDmg","def","minionHp","heroMagic","mage","chance","dmg","human","elf","gnome","valar","morgote","buffAttack","crit","surprise","buffHp","armour","evasion","fetchHero","createAsyncThunk","a","data","axios","get","config","serverUrl","then","res","getHero","createSelector","state","getBackpack","backpack","getRandomInt","min","max","Math","ceil","floor","random","getChanceAttack","attackChance","getChanceMagic","percents","selectLocationType","createAction","selectLocLvl","selectLocation","selectedCreepInLocation","fetchLocation","lvl","fetchCreepsInLocation","namesArr","post","mathCount","format","toCut","letter","String","slice","FightArea","heroData","creepData","dispatch","useDispatch","useState","setHero","creeps","setCreeps","logs","setLogs","fightResult","setFightResult","heroHpBar","setHeroHpBar","creepHpBar","setCreepHpBar","loot","setLoot","useEffect","name","hp","buff","buffLoot","img","handleAttackCreep","allHeroDmg","horsemenDmg","archersDmg","infantryDmg","mageDmg","humanDmg","elfDmg","gnomeDmg","valarDmg","morgoteDmg","critical","creepDmg","isAttackHero","isAttackCreeps","creepHpAfterAttack","heroDefAfterAttack","parseInt","map","item","onClick","style","src","heroImg","alt","disabled","noneImg","log","index","itemName","title","openBackpack","NavPanel","location","getSelectedType","selectedType","type","getSelectedCreep","selectedCreep","creep","getSelectedLvl","selectedLvl","getSelectedLoc","selectedLoc","loc","getCreeps","getDataLocations","locations","locs","Location","activeItemType","useSelector","activeLvl","activeLocation","handleChangeActiveItem","handleChangeActiveLvl","handleChangeLocation","minMax","getCountByLvl","backgroundColor","color","i","handleSelectCreep","BackpackPopup","activeHero","setActiveHero","items","setItems","equipment","setEquipment","currentItem","setCurrentItem","dragEndHandler","e","target","background","magImg","mag","helm","width","height","weapon","gloves","cuirass","ring","boots","viewBox","fill","xmlns","d","slots","size","push","BackpackSlots","onDragStart","dragStartHandler","onDragLeave","onDragEnd","onDragOver","preventDefault","dragOverHandler","onDrop","it","_id","order","dropHandler","draggable","console","filter","handleClickItemInventory","isOpenBackpack","nav","Homepage","adminLogin","isBackpack","Forgepage","Routes","path","to","heroReducer","createReducer","loading","error","pending","fulfilled","action","payload","rejected","creepReducer","combineReducers","locationReducer","navReducer","form","formReducer","storageName","AuthContext","createContext","token","userId","noop","logout","isAuthenticated","store","configureStore","reducer","rootReducer","devTools","App","setToken","ready","setReady","setUserId","useCallback","jwtToken","id","window","localStorage","setItem","JSON","stringify","removeItem","parse","getItem","useAuth","Provider","value","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7b9d650.chunk.js","sourcesContent":["import React from 'react'\r\nimport './HeroPanel.scss'\r\nexport default function HeroPanel({ hero,className }) {\r\n  const armyCount = hero && hero.army.horsemen.count + hero.army.archers.count + hero.army.infantry.count\r\n\r\n  return (\r\n    <>\r\n      {\r\n        hero &&\r\n        <div className={`heroPanel ${className}`}>\r\n          <h2 className='heroPanel__heroes'>Имя: {hero.login}</h2>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Мощь:{hero.power}</p>\r\n            <p>Уровень:{hero.level}</p>\r\n          </div>\r\n          <div className=\"heroPanel__container\">\r\n            <p>Урон армии:{hero.attack.minDmg} - {hero.attack.maxDmg}</p>\r\n            <p>Защита:{hero.def}</p>\r\n          </div>\r\n          <div className=\"heroPanel__army heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Войско:</h3>\r\n            <p>Кол-во: {armyCount}</p>\r\n            <p>Атака: {armyCount * 1} - {armyCount * 3}</p>\r\n            <p>Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Всадники: {hero.army.horsemen.count} Урон:{hero.army.horsemen.minDmg} - {hero.army.horsemen.maxDmg} Здоровье: {hero.army.horsemen.minionHp}</p>\r\n            <p>Лучники: {hero.army.archers.count} Урон:{hero.army.archers.minDmg} - {hero.army.archers.maxDmg} Здоровье: {hero.army.archers.minionHp}</p>\r\n            <p>Пехота: {hero.army.infantry.count} Урон:{hero.army.infantry.minDmg} - {hero.army.infantry.maxDmg} Здоровье: {hero.army.infantry.minionHp}</p>\r\n          </div>\r\n          <div className=\"heroPanel__magic heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Магия и способности героев:</h3>\r\n            <p>Маг: {hero.heroMagic.mage.chance}% урон {hero.heroMagic.mage.dmg}</p>\r\n            <p>Человек: {hero.heroMagic.human.chance}% урон {hero.heroMagic.human.dmg}</p>\r\n            <p>Эльф: {hero.heroMagic.elf.chance}% урон {hero.heroMagic.elf.dmg}</p>\r\n            <p>Гном: {hero.heroMagic.gnome.chance}% урон {hero.heroMagic.gnome.dmg}</p>\r\n            <p>Воля Валар: {hero.heroMagic.valar.chance}% урон {hero.heroMagic.valar.dmg}</p>\r\n            <p>Воля Моргота: {hero.heroMagic.morgote.chance}% урон {hero.heroMagic.morgote.dmg}</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffAttack heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление атаки:</h3>\r\n            <p>Крит шанс: {hero.buffAttack.crit.chance}% </p>\r\n            <p>Крит урон: {hero.buffAttack.crit.dmg}%</p>\r\n            <p>Шанс внезапности: {hero.buffAttack.surprise.chance}%</p>\r\n            <p>Урон внезапности: {hero.buffAttack.surprise.dmg}%</p>\r\n          </div>\r\n          <div className=\"heroPanel__buffHp heroPanel__infoContainer\">\r\n            <h3 className=\"heroPanel__title\">Усиление здоровья:</h3>\r\n            <p>Защита: {hero.buffHp.def}% ув. здор.</p>\r\n            <p>Броня: {hero.buffHp.armour}% к (здор.+защ.)</p>\r\n            <p>Уворот: {hero.buffHp.evasion}%</p>\r\n          </div>\r\n        </div>\r\n      }\r\n    </>\r\n  )\r\n}\r\n","import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const fetchHero = createAsyncThunk('hero/fetchHero', async (login) => {\r\n  const data = axios.get(`${config.serverUrl}/api/heroes/${login}`).then(\r\n    res => res.data)\r\n  return data;\r\n});","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getHero = createSelector(\r\n  state => state.hero.data[0],\r\n  hero => hero\r\n);\r\n\r\nexport const getBackpack = createSelector(\r\n  state => state.hero.data[0].backpack,\r\n  backpack => backpack\r\n);","export default __webpack_public_path__ + \"static/media/hero.2b8f2de0.png\";","export default function getRandomInt (min, max) {\r\n  min = Math.ceil(min);\r\n  max = Math.floor(max);\r\n  return Math.floor(Math.random() * (max - min)) + min; //Максимум не включается, минимум включается\r\n}","export const getChanceAttack = (evasion) => {\r\n  const attackChance = Math.random() * 100;\r\n  let chance;\r\n  if (attackChance >= evasion) {\r\n    chance = true\r\n  }\r\n  if (attackChance < evasion) {\r\n    chance = false\r\n  }\r\n  return chance\r\n}\r\n\r\nexport const getChanceMagic = (percents) => {\r\n  const attackChance = Math.random() * 100;\r\n  let chance = false;\r\n  if (attackChance <= percents) {\r\n    chance = true\r\n  } else {\r\n    chance = false\r\n  }\r\n  return chance;\r\n}","export default __webpack_public_path__ + \"static/media/none.ab09c996.png\";","import { createAction,createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport axios from 'axios'\r\nimport config from '../../config/default.json'\r\n\r\nexport const selectLocationType = createAction('CHANGE_SELECTED_TYPE')\r\n\r\nexport const selectLocLvl = createAction('CHANGE_SELECTED_LOCATION_LVL')\r\n\r\nexport const selectLocation = createAction('CHANGE_SELECTED_LOCATION')\r\n\r\nexport const selectedCreepInLocation = createAction('CHANGE_SELECTED_CREEP_IN_LOCATION')\r\n\r\nexport const fetchLocation = createAsyncThunk('location/fetchLoc', async (lvl) => {\r\n  const data = axios.get(`${config.serverUrl}/api/location?lvl=${lvl}`).then(\r\n    res => res.data)\r\n  return data;\r\n});\r\n\r\nexport const fetchCreepsInLocation = createAsyncThunk('location/fetchCreeps', async (namesArr) => {\r\n  const data = axios.post(`${config.serverUrl}/api/creeps/locationCreeps`,namesArr).then(\r\n    res => res.data)\r\n  return data;\r\n});","export const mathCount = (count) => {\r\n  const format = (toCut, letter) => String(count).slice(0, -toCut) + letter;\r\n\r\n  if (count > 999999999) {\r\n    return format(9, \"B\");\r\n  }\r\n\r\n  if (count > 999999) {\r\n    return format(6, \"M\");\r\n  }\r\n\r\n  if (count > 999) {\r\n    return format(3, \"K\");\r\n  } \r\n\r\n  return count\r\n}","import React, { useState, useEffect } from 'react'\r\nimport heroImg from '../../assets/png/hero.png'\r\nimport './FightArea.scss'\r\nimport getRandomInt from '../../helpers/getRandomInt'\r\nimport { getChanceAttack, getChanceMagic } from '../../helpers/getChance'\r\nimport config from '../../config/default.json'\r\nimport noneImg from '../../assets/png/none.png'\r\nimport { useDispatch } from 'react-redux'\r\nimport { selectedCreepInLocation, selectLocLvl, selectLocation, fetchLocation } from '../../redux/actions/locationAction'\r\nimport { fetchHero } from '../../redux/actions/heroAction'\r\nimport {mathCount} from '../../helpers/mathCount'\r\n\r\nexport default function FightArea({ heroData, creepData }) {\r\n  const dispatch = useDispatch()\r\n  const [hero, setHero] = useState({})\r\n  const [creeps, setCreeps] = useState({})\r\n  const [logs, setLogs] = useState([]) // [[heroDmg,creepDmg], ...]\r\n  const [fightResult, setFightResult] = useState('')\r\n  const [clickCounter, setClickCounter] = useState(0)\r\n  const [heroHpBar, setHeroHpBar] = useState(100)\r\n  const [creepHpBar, setCreepHpBar] = useState(100)\r\n  const [loot, setLoot] = useState([])\r\n  useEffect(() => {\r\n    heroData && setHero(heroData)\r\n  }, [heroData])\r\n\r\n  //all creeps\r\n  useEffect(() => {\r\n    creepData.name && setCreeps({\r\n      name: creepData.name,\r\n      hp: creepData.hp * creepData.count,\r\n      dmg: {\r\n        min: creepData.dmg.min * creepData.count,\r\n        max: creepData.dmg.max * creepData.count\r\n      },\r\n      buff: creepData.buff,\r\n      evasion: creepData.evasion,\r\n      buffLoot: creepData.buffLoot,\r\n      loot: creepData.loot,\r\n      crit: {\r\n        chance: creepData.crit.chance,\r\n        dmg: creepData.crit.dmg\r\n      },\r\n      img: creepData.img,\r\n      count: creepData.count\r\n    })\r\n\r\n  }, [creepData])\r\n\r\n  const prepareLootArr = () => {\r\n    const lootArr = creeps.loot.map(item => {\r\n      if (getChanceMagic(item.chance)) {\r\n        return item\r\n      } else {\r\n        return\r\n      }\r\n    })\r\n\r\n    return lootArr\r\n  }\r\n\r\n  const handleAttackCreep = () => {\r\n    if (fightResult) return\r\n\r\n    //evasion chance\r\n    const isAttackHero = getChanceAttack(creeps.evasion)\r\n    const isAttackCreeps = getChanceAttack(hero.buffHp.evasion)\r\n\r\n    let creepHpAfterAttack = creeps.hp;\r\n    let heroDefAfterAttack = hero.def;\r\n    // army Damage\r\n    let allHeroDmg, horsemenDmg, archersDmg, infantryDmg, mageDmg, humanDmg, elfDmg, gnomeDmg, valarDmg, morgoteDmg, critical, surprise;\r\n    //hero attack\r\n    if (isAttackHero) {\r\n      horsemenDmg = getRandomInt(hero.army.horsemen.minDmg * hero.army.horsemen.count, hero.army.horsemen.maxDmg * hero.army.horsemen.count)\r\n      archersDmg = getRandomInt(hero.army.archers.minDmg * hero.army.archers.count, hero.army.archers.maxDmg * hero.army.archers.count)\r\n      infantryDmg = getRandomInt(hero.army.infantry.minDmg * hero.army.infantry.count, hero.army.infantry.maxDmg * hero.army.infantry.count)\r\n\r\n      //magic\r\n      mageDmg = getChanceMagic(hero.heroMagic.mage.chance) ? hero.heroMagic.mage.dmg : 0\r\n      humanDmg = getChanceMagic(hero.heroMagic.human.chance) ? hero.heroMagic.human.dmg : 0\r\n      elfDmg = getChanceMagic(hero.heroMagic.elf.chance) ? hero.heroMagic.elf.dmg : 0\r\n      gnomeDmg = getChanceMagic(hero.heroMagic.gnome.chance) ? hero.heroMagic.gnome.dmg : 0\r\n      valarDmg = getChanceMagic(hero.heroMagic.valar.chance) ? hero.heroMagic.valar.dmg : 0\r\n      morgoteDmg = getChanceMagic(hero.heroMagic.morgote.chance) ? hero.heroMagic.morgote.dmg : 0\r\n\r\n      const magicDmg = mageDmg + humanDmg + elfDmg + gnomeDmg + valarDmg + morgoteDmg\r\n      allHeroDmg = horsemenDmg + archersDmg + infantryDmg + magicDmg\r\n\r\n      critical = getChanceMagic(hero.buffAttack.crit.chance)\r\n      if (critical) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.crit.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      surprise = getChanceMagic(hero.buffAttack.surprise.chance)\r\n      if (surprise) {\r\n        allHeroDmg = parseInt((allHeroDmg * hero.buffAttack.surprise.dmg) / 100 + allHeroDmg)\r\n      }\r\n\r\n      creepHpAfterAttack = creepHpAfterAttack - allHeroDmg\r\n\r\n\r\n      if (creepHpAfterAttack <= 0) {\r\n        setCreeps({ ...creeps, hp: 0 })\r\n        setCreepHpBar(0)\r\n        setLoot(prepareLootArr())\r\n      } else {\r\n        setCreeps({ ...creeps, hp: creepHpAfterAttack })\r\n        setCreepHpBar(parseInt((creepHpAfterAttack / creeps.hp) * 100))\r\n      }\r\n\r\n    } else {\r\n      allHeroDmg = 'Промах'\r\n    }\r\n\r\n\r\n    //creep attack\r\n    let creepDmg;\r\n    if (isAttackCreeps) {\r\n      creepDmg = creepHpAfterAttack > 0 ? getRandomInt(creeps.dmg.min, creeps.dmg.max) : 0  /// if draw(ничья) dmg = 0\r\n      heroDefAfterAttack = hero.def - creepDmg\r\n\r\n      if (heroDefAfterAttack <= 0) {\r\n        setHeroHpBar(0)\r\n        setHero({ ...hero, def: 0 })\r\n      } else if (creepDmg === 0) {\r\n        setHero({ ...hero, def: heroDefAfterAttack })\r\n      }\r\n      else {\r\n        setHero({ ...hero, def: heroDefAfterAttack })\r\n        setHeroHpBar(parseInt((heroDefAfterAttack / hero.def) * 100))\r\n      }\r\n\r\n    } else {\r\n      creepDmg = 'Промах'\r\n    }\r\n\r\n\r\n    setLogs([...logs, { allHeroDmg: allHeroDmg, horsemenDmg: horsemenDmg, archersDmg: archersDmg, infantryDmg: infantryDmg, creepDmg: creepDmg, mageDmg: mageDmg, humanDmg: humanDmg, elfDmg: elfDmg, gnomeDmg: gnomeDmg, valarDmg: valarDmg, morgoteDmg: morgoteDmg, critical: critical, surprise: surprise }])\r\n\r\n    if (creepHpAfterAttack <= 0) setFightResult('Победа')\r\n    if (heroDefAfterAttack <= 0) setFightResult('Поражение')\r\n    if (heroDefAfterAttack <= 0 && creepHpAfterAttack <= 0) setFightResult('Ничья')\r\n  }\r\n\r\n  const handleChangeActiveLvl = (lvl) => {\r\n    dispatch(fetchLocation(lvl))\r\n    dispatch(selectLocLvl(lvl))\r\n    dispatch(selectLocation(''))\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  const handleStartNewFight = () => {\r\n    dispatch(fetchHero('admin'))\r\n    dispatch(selectLocLvl(''))\r\n    dispatch(selectLocation(''))\r\n    dispatch(selectedCreepInLocation(''))\r\n    setFightResult('')\r\n    setHeroHpBar(100)\r\n    setCreepHpBar(100)\r\n    setLogs([])\r\n  }\r\n\r\n  return (\r\n    <div className='fightArea'>\r\n      <h2 className='fightArea__title'>Поле сражения</h2>\r\n      {fightResult &&\r\n        <h3 className={`fightArea__fightResult ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`}>{fightResult}</h3>\r\n      }\r\n      {fightResult &&\r\n        <button className={`fightArea__fightResult fightArea__btnReset ${fightResult === 'Поражение' && 'fightArea__fightResult--defeat'}`} onClick={() => handleStartNewFight()}>Начать новый бой</button>\r\n      }\r\n      <div className=\"fightArea__fight\">\r\n        {hero &&\r\n          <div className=\"fightArea__hero fightArea__item\">\r\n            <div className='fightArea__itemTitle'>\r\n              Оборона:{hero.def}\r\n              <div className=\"fightArea__hitBar fightArea__hitBar--hero\" style={{ 'width': heroHpBar + '%' }}></div>\r\n            </div>\r\n            <img src={heroImg} alt=\"hero\" />\r\n          </div>\r\n        }\r\n\r\n        <div className=\"fightArea__btnContainer\">\r\n          <span className='fightArea__vs'>VS</span>\r\n          <button className='fightArea__btnAttack' onClick={() => handleAttackCreep()} disabled={!creepData.name}>Атака</button>\r\n        </div>\r\n\r\n        {creepData.name &&\r\n          <>\r\n            <div className=\"fightArea__creep fightArea__item\">\r\n              <div className='fightArea__hpBar fightArea__itemTitle'>\r\n                {creeps.name} Здоровье:{mathCount(creeps.hp)}\r\n                <div className=\"fightArea__hitBar\" style={{ 'width': creepHpBar + '%' }}></div>\r\n              </div>\r\n              <img className=\"fightArea__creepImg\" src={`${config.serverUrl}/api/images/${creeps.img}`} alt={creeps.name} />\r\n            </div>\r\n          </>\r\n        }\r\n        {!creepData.name &&\r\n          <>\r\n            <div className=\"fightArea__creep fightArea__item\">\r\n              <img className=\"fightArea__creepImg fightArea__creepImg--none\" src={noneImg} alt='Поле' />\r\n              <div className=\"fightArea__btnContainer\">\r\n                <button className=\"fightArea__btnStart\" onClick={() => handleChangeActiveLvl('Слабый')}>Поиск равного соперника</button>\r\n              </div>\r\n\r\n            </div>\r\n          </>\r\n        }\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n        <h3>Логи:</h3>\r\n        <div className=\"fightArea__logs\">\r\n          {\r\n            logs.map((log, index) => (\r\n              <p key={index}>\r\n                <span>\r\n                  Урон всего:\r\n                  {log.critical && <span>Критический урон</span>}\r\n                  {log.critical && log.surprise && <span>+</span>}\r\n                  {log.surprise && <span>Внезапный урон</span>}\r\n                  {log.allHeroDmg}\r\n                </span>\r\n                <span>Урон крипа: {log.creepDmg} </span>\r\n                {log.allHeroDmg > 0 &&\r\n                  <>\r\n                    <span>\r\n                      Урон всадников:{log.horsemenDmg} Урон лучников:{log.archersDmg} Урон пехоты:{log.infantryDmg}\r\n                    </span>\r\n                    {log.mageDmg > 0 && <span>Урон мага:{log.mageDmg}</span>}\r\n                    {log.humanDmg > 0 && <span>Урон человека:{log.humanDmg}</span>}\r\n                    {log.elfDmg > 0 && <span>Урон эльфа:{log.elfDmg}</span>}\r\n                    {log.gnomeDmg > 0 && <span>Урон гнома:{log.gnomeDmg}</span>}\r\n                    {log.valarDmg > 0 && <span>Воля валар:{log.valarDmg}</span>}\r\n                    {log.morgoteDmg > 0 && <span>Воля моргота:{log.morgoteDmg}</span>}\r\n                  </>\r\n                }\r\n\r\n              </p>\r\n            ))\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className=\"fightArea__logsContainer\">\r\n\r\n\r\n        {\r\n          fightResult === 'Победа' &&\r\n          <>\r\n            <h2>Добыча:</h2>\r\n            <div className=\"fightArea__loot\">\r\n              {loot && loot.map(item => (\r\n                <img src={`${config.serverUrl}/api/images/${item.img}`} alt={item.itemName} className='fightArea__lootItem' title={item.itemName} />\r\n              ))}\r\n            </div>\r\n            <button>Забрать все</button>\r\n          </>\r\n        }\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const openBackpack = createAction('OPEN_BACKPACK')\r\n","import React from 'react'\r\nimport './NavPanel.scss'\r\nimport {useDispatch} from 'react-redux'\r\nimport { openBackpack } from '../../redux/actions/navAction'\r\n\r\nexport default function NavPanel() {\r\n  const dispatch = useDispatch()\r\n\r\n  return (\r\n    <ul className='nav'>\r\n      <li onClick={() => dispatch(openBackpack(true))} className=\"nav__item nav__item--backpack\">\r\n        <span  className=\"nav__text\">Сундук добычи</span>\r\n      </li>\r\n      <li className=\"nav__item nav__item--altar\">\r\n        <span className=\"nav__text\">Алтарь Эссенций</span></li>\r\n      <li className=\"nav__item  nav__item--forge\">\r\n        <span className=\"nav__text\">Кузница</span></li>\r\n      <li className=\"nav__item  nav__item--pvp\">\r\n        <span className=\"nav__text\">PVP звания и награды</span></li>\r\n      <li className=\"nav__item  nav__item--barracks\">\r\n        <span className=\"nav__text\">Казарма</span></li>\r\n      <li className=\"nav__item  nav__item--shop\">\r\n        <span className=\"nav__text\">Магазин</span></li>\r\n    </ul>\r\n  )\r\n}\r\n","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const getSelectedLocData = createSelector(\r\n  state => state.location,\r\n  location => location\r\n);\r\n\r\nexport const getSelectedType = createSelector(\r\n  state => state.location.selectedType,\r\n  type => type\r\n);\r\n\r\nexport const getSelectedCreep = createSelector(\r\n  state => state.location.selectedCreep,\r\n  creep => creep\r\n);\r\n\r\nexport const getSelectedLvl = createSelector(\r\n  state => state.location.selectedLvl,\r\n  lvl => lvl\r\n);\r\n\r\nexport const getSelectedLoc = createSelector(\r\n  state => state.location.selectedLoc,\r\n  loc => loc\r\n);\r\n\r\nexport const getCreeps = createSelector(\r\n  state => state.location.creeps.data,\r\n  creeps => creeps\r\n);\r\n\r\nexport const getDataLocations = createSelector(\r\n  state => state.location.locations.data,\r\n  locs => locs\r\n);","import React from 'react'\r\nimport './Location.scss'\r\nimport config from '../../config/default.json'\r\nimport { useDispatch } from 'react-redux'\r\nimport { selectedCreepInLocation, selectLocationType, selectLocLvl, selectLocation, fetchLocation, fetchCreepsInLocation } from '../../redux/actions/locationAction'\r\nimport { getSelectedType, getSelectedLvl, getSelectedCreep, getSelectedLoc, getDataLocations, getCreeps } from '../../redux/selectors/locationSelector'\r\nimport { useSelector } from 'react-redux'\r\nimport getCountByLvl from '../../helpers/getCountByLvl'\r\nimport {mathCount} from '../../helpers/mathCount'\r\n\r\nexport default function Location({ className, creepData }) {\r\n\r\n  const dispatch = useDispatch()\r\n  const activeItemType = useSelector(getSelectedType) // type\r\n  const activeLvl = useSelector(getSelectedLvl)       // lvl\r\n  const activeLocation = useSelector(getSelectedLoc)  // loca\r\n  const creeps = useSelector(getCreeps)\r\n\r\n  const locations = useSelector(getDataLocations)     //location arr \r\n\r\n  const handleChangeActiveItem = (item) => {\r\n    dispatch(selectLocationType(item))\r\n    dispatch(selectLocLvl(''))\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  const handleChangeActiveLvl = (lvl) => {\r\n    dispatch(fetchLocation(lvl))\r\n    dispatch(selectLocLvl(lvl))\r\n    dispatch(selectLocation(''))\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n  const handleChangeLocation = (location, lvl) => {\r\n    dispatch(selectLocation(location))\r\n\r\n    if (lvl) {\r\n      const minMax = getCountByLvl(lvl)\r\n      dispatch(fetchCreepsInLocation([location.creeps, minMax]))\r\n    }\r\n  }\r\n\r\n  const handleSelectCreep = (creep) => {\r\n    dispatch(selectedCreepInLocation(creep))\r\n  }\r\n\r\n  const handleUpdateCreeps = () => {\r\n    dispatch(selectedCreepInLocation(''))\r\n    handleChangeLocation(activeLocation, activeLvl)\r\n  }\r\n\r\n  const handleBackInLocation = () => {\r\n    handleChangeLocation('')\r\n    dispatch(selectedCreepInLocation(''))\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={`location ${className}`}>\r\n      {/* Охота, поход, рейд, пвп */}\r\n      <ul className=\"location__nav\">\r\n        <li className={`location__navItem ${activeItemType === 'Охота' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Охота\")}>\r\n          Охота\r\n        </li>\r\n        <li className={`location__navItem ${activeItemType === 'Поход' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Поход\")}>\r\n          Поход\r\n        </li>\r\n        <li className={`location__navItem ${activeItemType === 'Рейд' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"Рейд\")}>\r\n          Рейд (с 3 уровня)\r\n        </li>\r\n        <li className={`location__navItem ${activeItemType === 'ПВП' && 'location__navItem--active'}`} onClick={() => handleChangeActiveItem(\"ПВП\")}>\r\n          ПВП(с 4 уровня)\r\n        </li>\r\n      </ul>\r\n\r\n      {/* слабый, обычный, средний... */}\r\n      {\r\n        activeItemType === 'Охота' &&\r\n        <div className='location__difficultyLvls'>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Слабый')}>\r\n            <span>1-9</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Слабый' && 'location__difficultNumber--active'}`}>1</span>\r\n            <span>Слабый</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Обычный')}>\r\n            <span>10-99</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Обычный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#CBFFB9' }}>2</span>\r\n            <span>Обычный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Средний')}>\r\n            <span>100-999</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Средний' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#B2CDFF' }}>3</span>\r\n            <span>Средний</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Сильный')}>\r\n            <span>1к-9.99к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Сильный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#9584FF' }}>4</span>\r\n            <span>Сильный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Мощный')}>\r\n            <span>10к-99.9к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Мощный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#F68CFF' }}>5</span>\r\n            <span>Мощный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Великий')}>\r\n            <span>100к-999к</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Великий' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#FF4F4F', color: '#fff' }}>6</span>\r\n            <span>Великий</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Эпический')}>\r\n            <span>1м-9.99м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Эпический' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#FF2929', color: '#fff' }}>7</span>\r\n            <span>Эпический</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Невероятный')}>\r\n            <span>10м-99.9м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Невероятный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#3F3F3F', color: '#fff' }}>8</span>\r\n            <span>Невероятный</span>\r\n          </div>\r\n          <div className=\"location__difficultyItem\" onClick={() => handleChangeActiveLvl('Легендарный')}>\r\n            <span>100м-999м</span>\r\n            <span className={`location__difficultNumber ${activeLvl === 'Легендарный' && 'location__difficultNumber--active'}`} style={{ backgroundColor: '#000', color: '#fff' }}>9</span>\r\n            <span>Легендарный</span>\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n      {/* Локации */}\r\n      {\r\n        activeLvl && !activeLocation &&\r\n        <div className='location__itemsContainer' >\r\n          {locations.map(loc => (\r\n            <div className=\"location__item\" onClick={() => handleChangeLocation(loc, activeLvl)}>\r\n              <img src={`${config.serverUrl}/api/images/${loc.img}`} alt={loc.name} className=\"location__itemImg\" />\r\n            </div>\r\n          ))}\r\n        </div>\r\n      }\r\n\r\n      {/* крипы */}\r\n      {activeLocation &&\r\n        <div className='creeps'>\r\n          <div className='creeps__btns'>\r\n            <button type='button' onClick={() => handleBackInLocation()}>Назад</button>\r\n            <h3>{activeLocation.name}</h3>\r\n            <button type='button' onClick={() => handleUpdateCreeps()}>Обновить</button>\r\n          </div>\r\n          <div className='creeps__items'>\r\n            {\r\n              creeps.map((creep, i) => (\r\n                <div key={i} className=\"creeps__item\" onClick={() => handleSelectCreep(creep)}>\r\n                  <img className='creeps__img' src={`${config.serverUrl}/api/images/${creep.img}`} alt={creep.name} />\r\n                  <span className='creeps__count'>{mathCount(creep.count)}</span>\r\n                </div>\r\n              ))\r\n            }\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n      {\r\n        creepData.name && activeLocation &&\r\n        <div className='creeps__infoContainer'>\r\n          <div className='creeps__info'>\r\n            <h3>Кол-во: {mathCount(creepData.count)}</h3>\r\n            <div>Усиление: {creepData.buff}%</div>\r\n            <div>Уворот: {creepData.evasion}%</div>\r\n            {creepData.crit && <div>Шанс крита: {creepData.crit.chance}%</div>}\r\n            {creepData.crit && <div>Урон крита: {creepData.crit.dmg}%</div>}\r\n            <div>Увеличение добычи: 0%</div>\r\n            {creepData.dmg && <div>Атака: {mathCount(creepData.dmg.min * creepData.count)} - {mathCount(creepData.dmg.max * creepData.count)}</div>}\r\n            {creepData && <div>Здоровье: {mathCount(creepData.hp * creepData.count)}</div>}\r\n          </div>\r\n          <div className=\"creeps__info\">\r\n            <h3>Возможный лут</h3>\r\n\r\n            {\r\n              creepData.loot.map(item => (\r\n                <div className='creeps__lootItem'><img className='creeps__lootImg' src={`${config.serverUrl}/api/images/${item.img}`} alt={item.itemName} />{item.itemName} Шанс: {item.chance}</div>\r\n              ))\r\n            }\r\n          </div>\r\n        </div>\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n","import getRandomInt from './getRandomInt'\r\n\r\nexport default function getCountByLvl (lvl) {\r\n  if(lvl === 'Слабый') return [1,9]\r\n  if(lvl === 'Обычный') return [10,99]\r\n  if(lvl === 'Средний') return [100,999]\r\n  if(lvl === 'Сильный') return [1000,9999]\r\n  if(lvl === 'Мощный') return [10000,99999]\r\n  if(lvl === 'Великий') return [100000,999999]\r\n  if(lvl === 'Эпический') return [1000000,9999999]\r\n  if(lvl === 'Невероятный') return [10000000,99999999]\r\n  if(lvl === 'Легендарный') return [100000000,999999999]\r\n}","export default __webpack_public_path__ + \"static/media/human.abb3556a.png\";","export default __webpack_public_path__ + \"static/media/elf.ef3728b9.png\";","export default __webpack_public_path__ + \"static/media/gnome.15e553de.png\";","import React, { useState, useEffect } from 'react'\r\nimport './BackpackPopup.scss'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { openBackpack } from '../../redux/actions/navAction'\r\nimport magImg from '../../assets/png/hero.png'\r\nimport human from '../../assets/png/human.png'\r\nimport elf from '../../assets/png/elf.png'\r\nimport gnome from '../../assets/png/gnome.png'\r\nimport { getBackpack } from '../../redux/selectors/heroSelector'\r\nimport config from '../../config/default.json'\r\nimport BackpackItem from '../BackpackItem/BackpackItem'\r\nimport { DndProvider } from 'react-dnd'\r\nimport { HTML5Backend } from 'react-dnd-html5-backend'\r\n\r\n\r\nexport default function BackpackPopup() {\r\n  const dispatch = useDispatch()\r\n  const backpack = useSelector(getBackpack)\r\n  const [activeHero, setActiveHero] = useState('mag')\r\n  const [items, setItems] = useState(backpack.items)\r\n  const [equipment, setEquipment] = useState(backpack.equipment)\r\n  const [currentItem, setCurrentItem] = useState(null)\r\n\r\n  const BackpackSlots = () => {\r\n    const slots = []\r\n    for (let i = 0; i < backpack.size; i++) {\r\n      slots.push(<div className='backpack__slot'>{i}</div>)\r\n    }\r\n    return slots\r\n  }\r\n\r\n  const dragStartHandler = (e, item) => {\r\n    setCurrentItem(item)\r\n    e.target.style.background = 'black'\r\n  }\r\n\r\n  const dragEndHandler = (e) => {\r\n    e.target.style.background = 'none'\r\n  }\r\n\r\n  const dragOverHandler = (e) => {\r\n    e.preventDefault()\r\n    e.target.style.background = 'black'\r\n  }\r\n\r\n  const dropHandler = (e, item) => {\r\n    e.preventDefault()\r\n    setItems(items.map(it => {\r\n      if (it._id === item._id) {\r\n        return { ...it, order: currentItem.order }\r\n      }\r\n      if (it._id === currentItem._id) {\r\n        return { ...it, order: item.order }\r\n      }\r\n      return it\r\n    }))\r\n    e.target.style.background = 'none'\r\n  }\r\n\r\n  // const sortItems = (a,b) => {\r\n  //   if(a.order>b.order){\r\n  //     return 1\r\n  //   } else {\r\n  //     return -1\r\n  //   }\r\n  // }\r\n\r\n  const handleClickItemInventory = (item) => {\r\n    console.log(equipment)\r\n    if(item.type === 'essense') return\r\n\r\n    if(item.type === 'weapon') {\r\n      setEquipment({ ...equipment, mag: { ...equipment.mag, weapon: item } })\r\n      setItems(items.filter(it => it.itemName !== item.itemName))\r\n    }\r\n \r\n    if(item.type === 'helm') {\r\n      setEquipment({ ...equipment, mag: { ...equipment.mag,helm: item } })\r\n      setItems(items.filter(it => it.itemName !== item.itemName))\r\n    }\r\n    if(item.type === 'cuirass') {\r\n      setEquipment({ ...equipment, mag: { ...equipment.mag,cuirass: item } })\r\n      setItems(items.filter(it => it.itemName !== item.itemName))\r\n    }\r\n    if(item.type === 'gloves') {\r\n      setEquipment({ ...equipment, mag: { ...equipment.mag,gloves: item } })\r\n      setItems(items.filter(it => it.itemName !== item.itemName))\r\n    }\r\n    if(item.type === 'ring') {\r\n      setEquipment({ ...equipment, mag: { ...equipment.mag,ring: item } })\r\n      setItems(items.filter(it => it.itemName !== item.itemName))\r\n    }\r\n    if(item.type === 'boots') {\r\n      setEquipment({ ...equipment, mag: { ...equipment.mag,boots: item } })\r\n      setItems(items.filter(it => it.itemName !== item.itemName))\r\n    }\r\n    \r\n\r\n\r\n  }\r\n\r\n  return (\r\n    <div className='backpack'>\r\n      <div className=\"backpack__modal\">\r\n        <button className=\"backpack__btnClose\" onClick={() => dispatch(openBackpack(false))}>close</button>\r\n        <div className=\"backpack__container\">\r\n          <div className=\"backpack__column\">\r\n            <div className=\"backpack__heroes\">\r\n              <div className={`backpack__hero ${activeHero === 'mag' && 'backpack__hero--active'}`} onClick={() => setActiveHero('mag')}>\r\n                <img src={magImg} alt=\"\" className=\"backpack__heroImg\" />\r\n                <span className=\"backpack__heroName\">Олорин</span>\r\n              </div>\r\n              <div className={`backpack__hero ${activeHero === 'human' && 'backpack__hero--active'}`} onClick={() => setActiveHero('human')}>\r\n                <img src={human} alt=\"\" className=\"backpack__heroImg\" />\r\n                <span className=\"backpack__heroName\">Вольдемар</span>\r\n              </div>\r\n              <div className={`backpack__hero ${activeHero === 'elf' && 'backpack__hero--active'}`} onClick={() => setActiveHero('elf')}>\r\n                <img src={elf} alt=\"\" className=\"backpack__heroImg\" />\r\n                <span className=\"backpack__heroName\">Галадриэль</span>\r\n              </div>\r\n              <div className={`backpack__hero ${activeHero === 'gnome' && 'backpack__hero--active'}`} onClick={() => setActiveHero('gnome')}>\r\n                <img src={gnome} alt=\"\" className=\"backpack__heroImg\" />\r\n                <span className=\"backpack__heroName\">Торин</span>\r\n              </div>\r\n            </div>\r\n\r\n            {activeHero === 'mag' &&\r\n              <div className=\"backpack__heroItems\">\r\n                <div className=\"backpack__heroItemContainer backpack__heroItemContainer--helm\">\r\n                  <span>Шлем</span>\r\n                  <div className=\"backpack__heroItem\">\r\n                    {equipment && equipment.mag && equipment.mag.helm && <img src={`${config.serverUrl}/api/images/${equipment.mag.helm.img}`} alt={equipment.mag.helm.itemName} width=\"105px\" height=\"105px\" />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"backpack__heroItemContainer backpack__heroItemContainer--weapon\">\r\n                  <span>Оружие</span>\r\n                  <div className=\"backpack__heroItem\">\r\n                    {equipment && equipment.mag && equipment.mag.weapon && <img src={`${config.serverUrl}/api/images/${equipment.mag.weapon.img}`} alt={equipment.mag.weapon.itemName} width=\"105px\" height=\"105px\" />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"backpack__heroItemContainer backpack__heroItemContainer--gloves\">\r\n                  <span>Перчатки</span>\r\n                  <div className=\"backpack__heroItem\">\r\n                    {equipment && equipment.mag && equipment.mag.gloves && <img src={`${config.serverUrl}/api/images/${equipment.mag.gloves.img}`} alt={equipment.mag.gloves.itemName} width=\"105px\" height=\"105px\" />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"backpack__heroItemContainer backpack__heroItemContainer--cuirass\">\r\n                  <span>Кираса</span>\r\n                  <div className=\"backpack__heroItem\">\r\n                    {equipment && equipment.mag && equipment.mag.cuirass && <img src={`${config.serverUrl}/api/images/${equipment.mag.cuirass.img}`} alt={equipment.mag.cuirass.itemName} width=\"105px\" height=\"105px\" />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"backpack__heroItemContainer backpack__heroItemContainer--ring\">\r\n                  <span>Кольцо</span>\r\n                  <div className=\"backpack__heroItem\">\r\n                    {equipment && equipment.mag && equipment.mag.ring && <img src={`${config.serverUrl}/api/images/${equipment.mag.ring.img}`} alt={equipment.mag.ring.itemName} width=\"105px\" height=\"105px\" />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"backpack__heroItemContainer backpack__heroItemContainer--boots\">\r\n                  <span>Сапоги</span>\r\n                  <div className=\"backpack__heroItem\">\r\n                  {equipment && equipment.mag && equipment.mag.boots && <img src={`${config.serverUrl}/api/images/${equipment.mag.boots.img}`} alt={equipment.mag.boots.itemName} width=\"105px\" height=\"105px\" />}\r\n                  </div>\r\n                </div>\r\n                <div className=\"backpack__heroSvg\">\r\n                  <svg width=\"318\" height=\"637\" viewBox=\"0 0 318 637\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M296.874 588.408C295.991 586.188 295.109 583.968 294.404 582.198C290.098 582.977 286.111 583.874 282.074 584.383C277.523 584.956 275.093 586.718 276.06 591.82C276.845 595.952 276.388 600.437 271.955 602.068C260.42 606.311 258.388 615.444 258.088 626.079C257.894 632.961 253.184 637.337 246.32 636.98C236.643 636.475 226.971 635.542 217.35 634.354C211.221 633.596 210.215 628.261 209.164 623.406C208.322 619.518 207.675 615.58 207.117 611.64C206.577 607.827 203.922 606.782 200.935 607.589C191.306 610.192 181.722 612.997 172.236 616.076C160.912 619.752 149.922 624.67 137.477 622.614C128.186 621.079 124.972 616.673 126.412 605.831C127.131 600.407 126.865 597.849 120.798 598.208C115.026 598.551 109.231 598.825 103.455 598.7C101.122 598.65 98.6819 597.737 96.5212 596.726C92.4457 594.818 88.7335 591.945 84.5107 590.593C78.9792 588.821 77.0695 585.175 76.8352 579.996C76.1071 563.904 75.4226 547.808 74.7012 531.715C74.4585 526.294 73.4861 525.8 64.1502 526.993C64.1502 535.851 64.0983 544.886 64.1619 553.921C64.2841 571.767 64.3912 589.613 64.6808 607.456C64.7628 612.561 65.3084 617.673 65.9009 622.751C66.4131 627.146 64.2841 629.62 60.4949 630.98C56.4931 632.418 53.5959 630.325 52.0712 627.065C50.5816 623.879 49.2962 620.227 49.2995 616.78C49.3096 603.887 48.1815 590.653 50.6787 578.186C53.7834 562.689 50.4561 547.497 51.7799 532.234C51.9557 530.201 51.4653 528.111 51.3013 526.241C50.7322 525.866 50.4443 525.522 50.1247 525.489C38.9477 524.322 35.6321 519.829 37.4481 508.259C38.6163 500.812 37.7694 499.681 30.1206 498.464C24.5037 497.57 23.1313 495.59 23.7372 489.902C24.2376 485.208 24.4535 480.486 24.8552 474.959C18.8885 474.241 13.1176 473.604 7.36508 472.837C-0.615101 471.772 -1.12056 470.246 1.22429 462.966C7.89062 442.276 14.0046 421.408 20.6057 400.697C21.8894 396.668 23.8058 392.556 26.4368 389.293C34.5258 379.267 43.1872 369.704 51.4134 359.784C52.8712 358.027 54.0963 355.428 54.0963 353.217C54.1047 331.431 52.7959 309.75 50.1447 288.074C48.6367 275.748 49.82 263.097 49.7196 250.592C49.6376 240.54 49.4234 230.492 49.3146 220.441C49.2661 215.961 49.097 211.59 43.9102 209.342C43.2608 210.647 42.752 212.06 41.9118 213.231C41.321 214.056 40.3453 214.726 39.3963 215.107C39.0414 215.249 37.7393 214.27 37.7945 213.984C38.0289 212.787 38.4339 211.535 39.1168 210.535C40.1076 209.086 41.7043 207.998 42.4993 206.475C45.6944 200.352 40.5846 199.141 36.6832 197.319C37.3811 196.505 37.987 195.798 38.5929 195.091C36.8757 194.662 35.1601 194.23 32.3534 193.527C36.5276 191.98 39.2272 186.986 43.7194 192.985C44.0625 191.678 44.737 190.581 44.5144 189.717C42.1997 180.739 41.0432 172.703 46.6517 163.508C49.7698 158.396 47.8284 149.366 46.3471 142.494C44.2232 132.64 42.6365 122.987 44.486 112.985C44.5897 112.427 44.64 111.852 44.6467 111.284C44.7487 102.473 44.8877 93.6616 44.8927 84.8506C44.8944 83.169 44.7588 81.2817 44.0123 79.8375C40.1444 72.3587 41.1737 65.562 45.1571 58.2855C46.4576 55.9118 45.3663 51.0842 43.686 48.4531C39.182 41.3989 38.8373 36.9959 44.5546 30.5335C47.6844 26.9964 48.9932 23.7836 45.8199 19.5945C45.0383 18.5632 44.7839 16.6609 45.1036 15.3587C46.2266 10.8103 47.7062 6.34374 49.6008 0C52.7591 5.62662 55.0286 9.78222 57.4086 13.8726C59.3049 17.1323 62.0548 20.0877 63.1544 23.578C65.1009 29.7596 65.9662 36.2738 67.5043 42.5958C68.7328 47.6424 70.5186 52.5602 71.5915 57.6336C72.0618 59.8551 72.2961 63.2585 71.0341 64.5072C66.7261 68.7681 67.6231 73.4252 68.7077 78.2812C70.4718 86.1695 69.814 93.466 65.5595 100.717C61.9326 106.897 58.7057 113.049 61.2899 121.409C63.2297 127.685 61.4037 135.084 61.5075 141.979C61.6079 148.577 61.8891 155.185 62.4648 161.754C62.5602 162.843 64.4214 164.262 65.7352 164.68C76.2661 168.03 77.759 171.731 71.8091 181.145C70.1672 183.743 70.0818 185.483 71.8861 188.238C73.5296 190.75 73.8811 194.215 74.3916 197.328C75.1247 201.786 75.1113 206.4 76.2142 210.746C76.5824 212.197 79.3976 213.967 81.1014 213.975C87.346 214.004 93.7847 212.21 99.7966 213.215C109.946 214.91 113.782 210.477 116.738 201.605C118.666 195.82 123.625 191.036 127.257 185.826C128.01 184.746 129.096 183.858 129.682 182.706C131.953 178.231 133.589 174.699 131.609 168.491C128.383 158.379 130.069 147.205 133.652 136.742C136.348 128.871 138.74 120.89 141.055 112.897C142.796 106.887 138.007 99.1645 130.402 95.141C125.699 92.6536 120.674 90.5859 116.443 87.455C113.196 85.0529 108.115 80.1032 108.841 78.3581C110.599 74.1323 114.691 69.8429 118.91 67.9173C125.009 65.134 131.983 63.9087 138.717 62.9793C143.925 62.2605 146.069 59.4807 147.868 55.1044C150.13 49.5982 152.926 44.2875 155.832 39.0821C156.788 37.372 158.789 36.2354 160.338 34.8663C163.663 31.9243 167.971 29.5874 170.172 25.9667C179.762 10.1884 194.479 6.68641 211.374 7.20127C216.995 7.37344 222.646 6.63794 229.003 6.27687C227.49 9.34426 225.888 13.6102 223.429 17.3078C220.726 21.3698 217.399 25.0624 214.048 28.6396C208.994 34.0355 209.626 37.3921 216.517 40.533C217.963 41.1917 219.218 42.2698 221.459 43.7475C217.817 46.8216 214.83 49.3457 212.744 51.1059C215.195 59.3252 217.258 66.249 219.586 74.0604C220.232 74.0955 221.834 74.2459 223.436 74.2643C234.703 74.3914 244.243 78.4283 251.521 87.0922C256.128 92.5784 255.482 95.92 249.191 99.3551C246.772 100.676 243.857 101.164 241.113 101.797C236.429 102.877 231.702 103.771 226.992 104.744C226.994 105.445 226.998 106.147 226.999 106.847C229.778 107.385 232.584 108.494 235.331 108.362C246.99 107.798 257.308 111.994 266.682 117.978C270.607 120.484 272.813 125.771 275.612 129.922C279.592 135.824 283.64 141.704 287.225 147.847C293.216 158.114 297.885 168.508 296.625 181.232C294.891 198.75 294.688 216.421 293.883 234.028C293.825 235.327 293.877 236.804 294.426 237.933C299.005 247.322 297.715 257.064 296.93 266.97C295.729 282.09 295.47 297.28 294.516 312.423C294.148 318.28 292.462 324.07 292.293 329.919C292.039 338.75 292.524 347.608 292.809 356.451C293.139 366.648 294.342 376.876 293.848 387.026C292.493 414.842 298.667 441.773 302.359 469.015C304.5 484.812 305.887 500.709 307.621 516.561C307.787 518.072 307.46 519.997 308.265 521.024C314.989 529.586 311.887 540.01 313.963 549.421C314.98 554.031 316.723 558.488 317.638 563.113C319.014 570.067 316.51 572.63 309.38 572.056C307.487 571.904 305.616 571.291 303.733 571.281C301.097 571.266 296.55 570.928 296.183 571.943C295.142 574.819 295.54 578.343 295.897 581.553C296.136 583.712 297.268 585.772 297.999 587.876C297.626 588.05 297.249 588.229 296.874 588.408ZM62.2841 243.531C63.0807 253.184 63.9494 262.398 64.5753 271.629C65.4574 284.642 66.1453 297.669 66.9604 310.688C67.029 311.793 67.1395 313.126 67.7822 313.894C68.311 314.526 69.9061 314.942 70.5689 314.591C71.2015 314.255 71.7187 312.613 71.4291 311.888C70.999 310.81 69.814 310.031 69.3454 309.539C70.7597 307.866 72.8836 306.502 72.8166 305.252C72.2894 295.277 71.5513 285.301 70.4149 275.38C70.0467 272.171 66.6993 268.637 67.4742 266.086C69.9362 257.977 67.8993 250.406 67.0223 242.266C65.2716 242.732 64.018 243.068 62.2841 243.531Z\" fill=\"#969696\" />\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            }\r\n\r\n\r\n          </div>\r\n          <div className=\"backpack__column\">\r\n            <h3>Сундук добычи</h3>\r\n            <div className=\"backpack__nav\">\r\n              <div className=\"backpack__navItem\">Эссенции</div>\r\n              <div className=\"backpack__navItem\">Ускорения</div>\r\n              <div className=\"backpack__navItem\">Вещи</div>\r\n              <div className=\"backpack__navItem\">Квестовые</div>\r\n            </div>\r\n            <div className=\"backpack__itemsContainer\">\r\n              <div className=\"backpack__slots\">\r\n                {\r\n                  BackpackSlots()\r\n                }\r\n              </div>\r\n              <div className=\"backpack__items\">\r\n                {\r\n                  backpack && items.map(item => (\r\n                    <div className=\"backpack__item\"\r\n                      onDragStart={(e) => dragStartHandler(e, item)}\r\n                      onDragLeave={(e) => dragEndHandler(e)}\r\n                      onDragEnd={(e) => dragEndHandler(e)}\r\n                      onDragOver={(e) => dragOverHandler(e)}\r\n                      onDrop={(e) => dropHandler(e, item)}\r\n                      draggable={true}\r\n                      onClick={() => handleClickItemInventory(item)}\r\n                    >\r\n                      <img className='backpack__itemImg' src={`${config.serverUrl}/api/images/${item.img}`} alt={item.itemName} />\r\n                    </div>\r\n                  ))\r\n                }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { createSelector } from '@reduxjs/toolkit'\r\n\r\nexport const isOpenBackpack = createSelector(\r\n  state => state.nav.isOpenBackpack,\r\n  isOpenBackpack => isOpenBackpack\r\n);","import React, { useEffect } from 'react'\r\nimport HeroPanel from '../../components/HeroPanel/HeroPanel'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { fetchHero } from '../../redux/actions/heroAction'\r\nimport { getHero } from '../../redux/selectors/heroSelector'\r\nimport FightArea from '../../components/FightArea/FightArea'\r\nimport './Homepage.scss'\r\nimport NavPanel from '../../components/NavPanel/NavPanel'\r\nimport Location from '../../components/Location/Location'\r\nimport { getSelectedCreep } from '../../redux/selectors/locationSelector'\r\nimport BackpackPopup from '../../components/BackpackPopup/BackpackPopup'\r\nimport { isOpenBackpack } from '../../redux/selectors/navSelector'\r\n\r\n\r\nexport default function Homepage() {\r\n  const adminLogin = 'admin'\r\n  const selectedCreepInLocation = useSelector(getSelectedCreep)\r\n  const isBackpack = useSelector(isOpenBackpack)\r\n  const dispatch = useDispatch()\r\n  const hero = useSelector(getHero)\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchHero(adminLogin))\r\n  }, [adminLogin])\r\n\r\n  return (\r\n    <div className='home'>\r\n      {isBackpack && <BackpackPopup />}\r\n      <div className=\"home__figthArea\">\r\n        <HeroPanel hero={hero} className='home__heroPanel' />\r\n        <FightArea heroData={hero} creepData={selectedCreepInLocation} />\r\n        <Location className='home__location' creepData={selectedCreepInLocation}/>\r\n      </div>\r\n      <div className='home__nav'>\r\n        <NavPanel />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport './Forgepage.scss'\r\nexport default function Forgepage() {\r\n\r\n    return (\r\n        <>\r\n            <div className=\"forge\">\r\n                <div className=\"forge__title\">Кузница</div>\r\n                <div className=\"forge__craft\">\r\n                    <div className=\"crystals--counter\">\r\n                        <img src=\"../../assets/png/red_crystals.png \" />: 10\r\n                            <div className=\"action\">Создать вещь  <img src=\"../../assets/png/inquiry_character.png\"></img></div>\r\n                    </div>\r\n                    <div className=\"list__items\">\r\n                        <ul>\r\n                            <li ><img src=\"../../assets/png/red_crystals.png\" /><div>Обычное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Улучшенное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Заколдованное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Мощное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Эпическое<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Мифическое<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Легендарное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Легендарное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                            <li><img src=\"../../assets/png/red_crystals.png\" /><div>Легендарное<img src=\"../../assets/png/inquiry_character.png\" /></div></li>\r\n                        </ul>\r\n                        <button className=\"btn-green-block\">Создать</button>\r\n                        <div className=\"row\">\r\n                            <img src=\"../../assets/png/ring_snake.png\"></img>\r\n                            <img src=\"../../assets/png/ring_snake.png\"></img>\r\n                            <img src=\"../../assets/png/ring_snake.png\"></img>\r\n                        </div>\r\n                        <div className=\"row__button\">\r\n                            <button className=\"btn-green\">Забрать</button>\r\n                            <button className=\"btn-green\">Забрать всё</button>\r\n                            <button className=\"btn-red\">Выбросить</button>\r\n                            <button className=\"btn-red\">Выбросить всё</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"sort__out\">\r\n                    <div className=\"sort-out__header\">Разобрать вещь</div>\r\n                    <img src=\"../../assets/png/ring_snake.png\"></img>\r\n                    <button className=\"btn-red\">Разобрать</button>\r\n                    <div className=\"description\">Получите: 5к</div>\r\n\r\n                    <div className=\"merge\">Объединить вещи</div>\r\n                    <img src=\"../../assets/png/ring_snake.png\" />\r\n                    <img src=\"../../assets/png/ring_snake.png\" />\r\n                    <div className=\"pointer\">-------></div>\r\n                    <div className=\"item\"></div>\r\n                </div>\r\n                <div className=\"inventory\">\r\n                    <div className=\"inventory__header\">Инвентарь кузнеца</div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                    <div className=\"inventory__item\"></div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route, Switch, BrowserRouter as Router } from \"react-router-dom\"\r\nimport Homepage from './pages/Homepage/Homepage'\r\nimport Forgepage from \"./pages/Forgepage/Forgepage\";\r\n\r\n\r\nexport default function Routes() {\r\n\r\n  return (\r\n    <Router>\r\n      <Switch>\r\n        <Route path='/forge'>\r\n          <Forgepage />\r\n        </Route>\r\n        <Route path=\"/home\">\r\n          <Homepage />\r\n        </Route>\r\n        <Redirect to='/home' />\r\n      </Switch>\r\n    </Router>\r\n  )\r\n}","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { fetchHero } from '../actions/heroAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  data: [],\r\n  error: null\r\n};\r\n\r\nconst heroReducer = createReducer(initialState, {\r\n  [fetchHero.pending]: (state) => {\r\n    state.loading = true;\r\n    state.error = null\r\n  },\r\n  [fetchHero.fulfilled]: (state, action) => {\r\n    state.data = action.payload;\r\n    state.loading = false;\r\n  },\r\n  [fetchHero.rejected]: (state, action) => {\r\n    state.loading = false;\r\n    state.error = action.payload;\r\n  }\r\n});\r\n\r\nexport default heroReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { selectedCreepInLocation, selectLocationType, selectLocLvl, fetchLocation, selectLocation,fetchCreepsInLocation } from '../actions/locationAction'\r\n\r\nconst initialState = {\r\n  selectedType: 'Охота',\r\n  selectedLvl: null,\r\n  selectedLoc: '',\r\n  selectedCreep: '',\r\n  locations: {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n  },\r\n  creeps: {\r\n    loading: false,\r\n    error: null,\r\n    data: [],\r\n  }\r\n};\r\n\r\nconst creepReducer = createReducer(initialState, {\r\n  [selectLocationType.type]: (state, action) => {\r\n    state.selectedType = action.payload;\r\n  },\r\n  [selectLocLvl.type]: (state, action) => {\r\n    state.selectedLvl = action.payload;\r\n  },\r\n  [selectLocation.type]: (state, action) => {\r\n    state.selectedLoc = action.payload;\r\n  },\r\n  [selectedCreepInLocation.type]: (state, action) => {\r\n    state.selectedCreep = action.payload;\r\n  },\r\n  [fetchLocation.pending]: (state) => {\r\n    state.locations.loading = true;\r\n    state.locations.error = null\r\n  },\r\n  [fetchLocation.fulfilled]: (state, action) => {\r\n    state.locations.data = action.payload;\r\n    state.locations.loading = false;\r\n  },\r\n  [fetchLocation.rejected]: (state, action) => {\r\n    state.locations.loading = false;\r\n    state.locations.error = action.payload;\r\n  },\r\n  [fetchCreepsInLocation.pending]: (state) => {\r\n    state.creeps.loading = true;\r\n    state.creeps.error = null\r\n  },\r\n  [fetchCreepsInLocation.fulfilled]: (state, action) => {\r\n    state.creeps.data = action.payload;\r\n    state.creeps.loading = false;\r\n  },\r\n  [fetchCreepsInLocation.rejected]: (state, action) => {\r\n    state.creeps.loading = false;\r\n    state.creeps.error = action.payload;\r\n  },\r\n});\r\n\r\nexport default creepReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { openBackpack } from '../actions/navAction'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  isOpenBackpack: false,\r\n  error: null\r\n};\r\n\r\nconst heroReducer = createReducer(initialState, {\r\n  [openBackpack.type]: (state,action) => {\r\n    state.isOpenBackpack = action.payload;\r\n  }\r\n});\r\n\r\nexport default heroReducer","import { combineReducers } from '@reduxjs/toolkit'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport heroReducer from './reducers/heroReducer'\r\nimport locationReducer from './reducers/locationReducer'\r\nimport navReducer from './reducers/navReducer'\r\n\r\nexport default combineReducers({\r\n  hero: heroReducer,\r\n  location: locationReducer,\r\n  nav: navReducer,\r\n  form: formReducer\r\n})","import {useState, useCallback, useEffect} from 'react'\r\n\r\nconst storageName = 'warofthenumenor'\r\n\r\nexport const useAuth = () => {\r\n  const [token, setToken] = useState(null)\r\n  const [ready, setReady] = useState(false)\r\n  const [userId, setUserId] = useState(null)\r\n \r\n\r\n  const login = useCallback((jwtToken, id) => {\r\n    setToken(jwtToken)\r\n    setUserId(id)\r\n\r\n    window.localStorage.setItem(storageName, JSON.stringify({\r\n      userId: id, token: jwtToken\r\n    }))\r\n  }, [])\r\n\r\n\r\n  const logout = useCallback(() => {\r\n    setToken(null)\r\n    setUserId(null)\r\n    window.localStorage.removeItem(storageName)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const data = JSON.parse(window.localStorage.getItem(storageName))\r\n\r\n    if (data && data.token) {\r\n      login(data.token, data.userId)\r\n    }\r\n    setReady(true)\r\n  }, [login])\r\n\r\n\r\n  return { login, logout, token, userId: userId, ready }\r\n}","import { createContext } from 'react'\r\n\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  token: null,\r\n  userId: null,\r\n  login: noop(),\r\n  logout: noop(),\r\n  isAuthenticated: false\r\n})","import './App.css';\nimport Routes from './Routes';\nimport createStore from './redux/createStore'\nimport { Provider } from 'react-redux'\nimport { useAuth } from './hooks/useAuth'\nimport { AuthContext } from './context/AuthContext';\n\nconst store = createStore();\n\nfunction App() {\n  const { token, login, logout, userId, ready } = useAuth();\n  const isAuthenticated = !!token\n\n  return (\n    <Provider store={store}>\n      <AuthContext.Provider value={{ token, login, logout, userId, ready, isAuthenticated }}>\n        <Routes />\n      </AuthContext.Provider>\n    </Provider>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport rootReducer from './rootReducer';\r\n\r\nexport default () => {\r\n  return configureStore({\r\n    reducer: rootReducer,\r\n    devTools: true,\r\n  })\r\n};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}